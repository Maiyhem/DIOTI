<html lang="en">
<head>
    <style>
        body {
            margin: 0;
            background: #232323;
            font-family: Arial;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            align-items: center;
            height: 100vh;
            user-select: none;
        }

        :root {
            --player-color: #FF7C7C;
            --blur-amount: 2px;
            --dim-visibility: hidden;
            --modal-visibility: hidden;
            --start-visibility: visible;
            --opacity: 0;
        }

        .start {
            position: absolute;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            flex-direction: column;
            visibility: var(--start-visibility);
            z-index: 2;
        }

        .start-text {
            font-family: Arial, Helvetica, sans-serif;
            font-size: 100px;
            font-weight: 600;
            color: white;
            margin-bottom: 2%;
        }

        .start-button {
            width: 15vw;
            height: 5vw;
            background: #FFEDA3;
            font-family: Arial, Helvetica, sans-serif;
            font-size: 25px;
            font-weight: 600;
            color: #232323;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
            cursor: pointer;
        }

        .dim-box-b {
            position: absolute;
            width: 100vw;
            height: 100vh;
            background: #232323;
            opacity: 0.75;
            visibility: var(--start-visibility);
            z-index: 1;
        }

        .wrap {
            width: 100vw;
            height: auto;
            display: flex;
            justify-content: center;
            align-items: center;
            filter: blur(var(--blur-amount));
        }

        .board {
            width: 300px;
            height: 300px;
            display: grid;
            grid-template-rows: repeat(3, 100px);
            grid-template-columns: repeat(3, 100px);
            border: solid 5px #FFEDA3;
            border-radius: 5%;
            justify-items: center;
            align-items: center;
        }

        .cell {
            width: 82%;
            height: 82%;
            border: solid 5px #39A9CB;
            border-radius: 10%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 50px;
            color: #ffffff;
        }

        .cell:hover {
            width: 85%;
            height: 85%;
            opacity: 0.75;
        }

        .dim-box {
            position: absolute;
            width: 100vw;
            height: 100vh;
            background: #232323;
            opacity: 0.75;
            visibility: var(--dim-visibility);
        }

        .result-modal {
            position: absolute;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            flex-direction: column;
            visibility: var(--modal-visibility);
            opacity: var(--opacity);
            transition: opacity 300ms ease-in;
        }

        .winner-text {
            font-family: Arial, Helvetica, sans-serif;
            font-size: 100px;
            font-weight: 600;
            color: white;
            margin-bottom: 2%;
        }

        .restart-button {
            width: 15vw;
            height: 5vw;
            background: #FFEDA3;
            font-family: Arial, Helvetica, sans-serif;
            font-size: 25px;
            font-weight: 600;
            color: #232323;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
            cursor: pointer;
        }

        .restart-button:hover {
            opacity: 0.75;
        }

        .extra-button {
            width: 15vw;
            height: 5vw;
            background: #FFEDA3;
            font-family: Arial, Helvetica, sans-serif;
            font-size: 25px;
            font-weight: 600;
            color: #232323;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 1%;
        }

        .extra-button:hover {
            opacity: 0.75;
        }
    </style>
    <script>
        let board = Array(9).fill(null);
        let currentPlayer = "X";
        let isGameOver = false;
        let gameCount = 0;

        var root = document.querySelector(":root");

        function makeMove(index) {
            if (!board[index] && !isGameOver) {
                board[index] = currentPlayer;
                document.querySelectorAll(".cell")[index].textContent = currentPlayer;
                if (checkWinner()) {
                    showResult(currentPlayer + " Wins!");
                } else if (!board.includes(null)) {
                    showResult("It's a Draw!");
                } else {
                    currentPlayer = currentPlayer === "X" ? "O" : "X";
                    if (currentPlayer === "O") {
                        setTimeout(aiMove, 500); // AI makes a move after a short delay
                    }
                }
            }
        }

        function aiMove() {
            let bestMove = findBestMove();
            if (bestMove !== -1 && !isGameOver) {
                makeMove(bestMove);
            }
        }

        function findBestMove() {
            let bestVal = -Infinity;
            let bestMove = -1;
            for (let i = 0; i < board.length; i++) {
                if (board[i] === null) {
                    board[i] = "O";
                    let moveVal = minimax(board, 0, false);
                    board[i] = null;
                    if (moveVal > bestVal) {
                        bestMove = i;
                        bestVal = moveVal;
                    }
                }
            }
            return bestMove;
        }

        function minimax(newBoard, depth, isMaximizingPlayer) {
            let score = evaluate(newBoard);
            if (score === 10) return score - depth;
            if (score === -10) return score + depth;
            if (!newBoard.includes(null)) return 0;

            if (isMaximizingPlayer) {
                let best = -Infinity;
                for (let i = 0; i < newBoard.length; i++) {
                    if (newBoard[i] === null) {
                        newBoard[i] = "O";
                        best = Math.max(best, minimax(newBoard, depth + 1, !isMaximizingPlayer));
                        newBoard[i] = null;
                    }
                }
                return best;
            } else {
                let best = Infinity;
                for (let i = 0; i < newBoard.length; i++) {
                    if (newBoard[i] === null) {
                        newBoard[i] = "X";
                        best = Math.min(best, minimax(newBoard, depth + 1, !isMaximizingPlayer));
                        newBoard[i] = null;
                    }
                }
                return best;
            }
        }

        function evaluate(newBoard) {
            const winCombinations = [
                [0, 1, 2], [3, 4, 5], [6, 7, 8],
                [0, 3, 6], [1, 4, 7], [2, 5, 8],
                [0, 4, 8], [2, 4, 6]
            ];

            for (let combination of winCombinations) {
                const [a, b, c] = combination;
                if (newBoard[a] && newBoard[a] === newBoard[b] && newBoard[a] === newBoard[c]) {
                    if (newBoard[a] === "O") return 10;
                    if (newBoard[a] === "X") return -10;
                }
            }
            return 0;
        }

        function startGame() {
            root.style.setProperty('--start-visibility', "hidden");
            root.style.setProperty('--blur-amount', "0");
        }

        function checkWinner() {
            const winCombinations = [
                [0, 1, 2], [3, 4, 5], [6, 7, 8],
                [0, 3, 6], [1, 4, 7], [2, 5, 8],
                [0, 4, 8], [2, 4, 6]
            ];

            for (let combination of winCombinations) {
                if (board[combination[0]] && board[combination[0]] === board[combination[1]] && board[combination[0]] === board[combination[2]]) {
                    isGameOver = true;
                    return true;
                }
            }
            return false;
        }

        function showResult(result) {
            gameCount++;
            root.style.setProperty('--blur-amount', "2px");
            root.style.setProperty('--dim-visibility', "visible");
            root.style.setProperty('--modal-visibility', "visible");
            root.style.setProperty('--opacity', "1");

            let message = result;
            if (result.includes("O Wins!")) {
                if (gameCount === 1) {
                    message += " You can not beat me!";
                } else if (gameCount === 2) {
                    message += " Told you!";
                } else if (gameCount >= 3) {
                    message += " Aren't you tired of losing to a computer?";
                    let extraButton = document.createElement("div");
                    extraButton.className = "extra-button";
                    extraButton.textContent = "Go somewhere";
                    extraButton.onclick = () => {
                        window.location.href = "https://www.example.com";
                    };
                    document.querySelector(".result-modal").appendChild(extraButton);
                }
            }
            else if (result.includes("O Wins!")){
                message += "Good now you Can See Me"
            }
            document.querySelector(".winner-text").textContent = message;
        }

        function resetBoard() {
            board = Array(9).fill(null);
            document.querySelectorAll(".cell").forEach(cell => cell.textContent = "");
            root.style.setProperty('--blur-amount', "0");
            root.style.setProperty('--dim-visibility', "hidden");
            root.style.setProperty('--modal-visibility', "hidden");
            root.style.setProperty('--opacity', "0");
            isGameOver = false;
            currentPlayer = "X";
        }
    </script>
</head>
<body>
<div class="start">
    <div class="start-text">TIC-TAC-TOE</div>
    <p style="color: white; font-size: 32px;">I'm an AI You should win me to see the website</p>
    <div class="start-button" onclick="startGame()">START</div>
</div>
<div class="dim-box-b"></div>
<div class="wrap">
    <div class="board" id="board">
        <div class="cell" onclick="makeMove(0)"></div>
        <div class="cell" onclick="makeMove(1)"></div>
        <div class="cell" onclick="makeMove(2)"></div>
        <div class="cell" onclick="makeMove(3)"></div>
        <div class="cell" onclick="makeMove(4)"></div>
        <div class="cell" onclick="makeMove(5)"></div>
        <div class="cell" onclick="makeMove(6)"></div>
        <div class="cell" onclick="makeMove(7)"></div>
        <div class="cell" onclick="makeMove(8)"></div>
    </div>
</div>
<div class="dim-box"></div>
<div class="result-modal">
    <div class="winner-text" id="winner-text"></div>
    <div class="restart-button" onclick="resetBoard()">RESTART</div>
</div>
</body>
</html>
